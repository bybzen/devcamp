[{"D:\\devcamp\\src\\Storage.js":"1","D:\\devcamp\\src\\App.js":"2","D:\\devcamp\\src\\Buy.js":"3","D:\\devcamp\\src\\ProductDetail.js":"4","D:\\devcamp\\src\\Account.js":"5","D:\\devcamp\\src\\Upload.js":"6"},{"size":1908,"mtime":1606877854982,"results":"7","hashOfConfig":"8"},{"size":1340,"mtime":1606845353952,"results":"9","hashOfConfig":"8"},{"size":1617,"mtime":1606877598411,"results":"10","hashOfConfig":"8"},{"size":2493,"mtime":1606851786160,"results":"11","hashOfConfig":"8"},{"size":3111,"mtime":1606845615827,"results":"12","hashOfConfig":"8"},{"size":4824,"mtime":1606876448373,"results":"13","hashOfConfig":"8"},{"filePath":"14","messages":"15","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"2xagdc",{"filePath":"16","messages":"17","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"18","messages":"19","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"20","messages":"21","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"22","messages":"23","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"24","messages":"25","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"26"},"D:\\devcamp\\src\\Storage.js",["27","28"],"D:\\devcamp\\src\\App.js",[],"D:\\devcamp\\src\\Buy.js",["29","30","31"],"D:\\devcamp\\src\\ProductDetail.js",["32","33","34","35","36"],"D:\\devcamp\\src\\Account.js",["37","38","39","40","41"],"D:\\devcamp\\src\\Upload.js",["42","43"],"import React from 'react'\r\nimport { auth, db, store } from './firebase'\r\nimport Navbar from './components/Navbar'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { useState } from 'react'\r\nimport {\r\n    FormControl,\r\n    FormLabel,\r\n    FormErrorMessage,\r\n    FormHelperText,\r\n    Input\r\n} from \"@chakra-ui/react\"\r\nimport './css/App.css'\r\n\r\nconst Upload = () => {\r\n    const [subject_code, setSubjectCode] = useState()\r\n    const [subject_name, setSubjectName] = useState()\r\n    const [description, setDescription] = useState()\r\n    const subjectCode = (e) => {\r\n        setSubjectCode(e.target.value)\r\n    }\r\n    const _description = (e) => {\r\n        setDescription(e.target.value)\r\n    }\r\n    const subjectName = (e) => {\r\n        setSubjectName(e.target.value)\r\n    }\r\n    const [file, setFile] = useState()\r\n    const [img, setImg] = useState()\r\n    const [name, setName] = useState()\r\n    const history = useHistory()\r\n    const Choose = event => {\r\n        const _file = event.target.files[0]\r\n        if (_file !== null) {\r\n            setFile(_file)\r\n        }\r\n    }\r\n    const UpImage = event => {\r\n        const _img = event.target.files[0]\r\n        if (_img !== null) {\r\n            setImg(_img)\r\n        }\r\n    }\r\n\r\n\r\n    db.ref(`/users/${localStorage.uid}`).once('value').then((snapshot) => {\r\n        setName(snapshot.val().name)\r\n    })\r\n\r\n    async function Upload() {\r\n        const file_ref = store.ref(localStorage.uid).child(file.name)\r\n        await file_ref.put(file)\r\n        const file_url = await file_ref.getDownloadURL()\r\n        console.log(file_url)\r\n        console.log(subject_code)\r\n\r\n        const img_ref = store.ref(subject_code).child(img.name)\r\n        await img_ref.put(img)\r\n        const img_url = await img_ref.getDownloadURL()\r\n\r\n        console.log(`/users/${localStorage.uid}/upload/${subject_code}`)\r\n\r\n        console.table({\r\n            subjectCode: subject_code,\r\n            fileUrl: file_url,\r\n            uid: auth.currentUser.uid,\r\n            name: subject_name,\r\n            description: description,\r\n            imgUrl: img_url,\r\n            author: name\r\n        })\r\n\r\n\r\n        await db.ref(`/users/${localStorage.uid}/upload/${subject_code}`).set({\r\n            subjectCode: subject_code,\r\n            fileUrl: file_url,\r\n            uid: auth.currentUser.uid,\r\n            name: subject_name,\r\n            description: description,\r\n            imgUrl: img_url,\r\n            author: name\r\n        })\r\n        await db.ref(`/file/${subject_code}`).set({\r\n            subjectCode: subject_code,\r\n            fileUrl: file_url,\r\n            uid: auth.currentUser.uid,\r\n            name: subject_name,\r\n            description: description,\r\n            imgUrl: img_url,\r\n            author: name\r\n        })\r\n        alert('Upload Success')\r\n    }\r\n\r\n    const Back = () => {\r\n        history.replace('/account')\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Navbar />\r\n            <br></br>\r\n\r\n            {/* <div class=\"container-sm\"></div> */}\r\n\r\n            <FormControl id=\"subject-Code\">\r\n                <FormLabel className=\"text1\"> รหัสวิชา</FormLabel>\r\n                <Input className=\"inputBox2\" placeholder=\"ระบุรหัสวิชา\" type='text' onChange={subjectCode} />\r\n            </FormControl>\r\n\r\n            {/* <p>subject Code</p>\r\n            <input type='text' onChange={subjectCode} ></input> */}\r\n            <br></br>\r\n\r\n            <FormControl id=\"subject-Name\">\r\n                <FormLabel className=\"text1\"> ชื่อวิชา</FormLabel>\r\n                <Input className=\"inputBox2\" placeholder=\"ระบุชื่อวิชา\" type='text' onChange={subjectName} />\r\n            </FormControl>\r\n            <br></br>\r\n\r\n            <FormControl id=\"subject-Code\">\r\n                <FormLabel className=\"text1\"> รายละเอียด</FormLabel>\r\n                <Input className=\"inputBox2\" placeholder=\"รายละเอียด\" type='text' onChange={_description} />\r\n            </FormControl>\r\n\r\n            <br></br>\r\n\r\n            <FormLabel className=\"text1\"> เลือกรูปหน้าปก</FormLabel>\r\n            <input type=\"file\" onChange={UpImage} />\r\n\r\n            <br></br><br></br>\r\n\r\n            <FormLabel className=\"text1\">อัปโหลดไฟล์</FormLabel>\r\n            <input type=\"file\" id=\"file_choose\" onChange={Choose} />\r\n\r\n            {/* <input type=\"file\" id=\"file_choose\" onChange={Choose}/> */}\r\n            {/* <br></br><br></br> */}\r\n\r\n\r\n\r\n            <br></br>\r\n\r\n            <button className=\"cancel\" id=\"file_upload\" onClick={Upload} >อัปโหลด</button>\r\n\r\n\r\n            <button className=\"cancel\" onClick={Back}>ยกเลิก</button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Upload",{"ruleId":"44","severity":1,"message":"45","line":6,"column":10,"nodeType":"46","messageId":"47","endLine":6,"endColumn":16},{"ruleId":"44","severity":1,"message":"48","line":12,"column":11,"nodeType":"46","messageId":"47","endLine":12,"endColumn":16},{"ruleId":"44","severity":1,"message":"49","line":3,"column":10,"nodeType":"46","messageId":"47","endLine":3,"endColumn":14},{"ruleId":"50","severity":1,"message":"51","line":33,"column":7,"nodeType":"52","endLine":33,"endColumn":9,"suggestions":"53"},{"ruleId":"54","severity":1,"message":"55","line":49,"column":23,"nodeType":"56","endLine":49,"endColumn":70},{"ruleId":"44","severity":1,"message":"57","line":6,"column":5,"nodeType":"46","messageId":"47","endLine":6,"endColumn":16},{"ruleId":"44","severity":1,"message":"58","line":8,"column":5,"nodeType":"46","messageId":"47","endLine":8,"endColumn":21},{"ruleId":"44","severity":1,"message":"59","line":9,"column":5,"nodeType":"46","messageId":"47","endLine":9,"endColumn":19},{"ruleId":"44","severity":1,"message":"60","line":10,"column":5,"nodeType":"46","messageId":"47","endLine":10,"endColumn":10},{"ruleId":"50","severity":1,"message":"61","line":49,"column":7,"nodeType":"52","endLine":49,"endColumn":9,"suggestions":"62"},{"ruleId":"44","severity":1,"message":"63","line":11,"column":5,"nodeType":"46","messageId":"47","endLine":11,"endColumn":19},{"ruleId":"44","severity":1,"message":"64","line":13,"column":5,"nodeType":"46","messageId":"47","endLine":13,"endColumn":20},{"ruleId":"44","severity":1,"message":"65","line":14,"column":5,"nodeType":"46","messageId":"47","endLine":14,"endColumn":13},{"ruleId":"44","severity":1,"message":"66","line":15,"column":5,"nodeType":"46","messageId":"47","endLine":15,"endColumn":16},{"ruleId":"50","severity":1,"message":"67","line":44,"column":8,"nodeType":"52","endLine":44,"endColumn":14,"suggestions":"68"},{"ruleId":"44","severity":1,"message":"58","line":9,"column":5,"nodeType":"46","messageId":"47","endLine":9,"endColumn":21},{"ruleId":"44","severity":1,"message":"59","line":10,"column":5,"nodeType":"46","messageId":"47","endLine":10,"endColumn":19},"no-unused-vars","'Button' is defined but never used.","Identifier","unusedVar","'style' is assigned a value but never used.","'auth' is defined but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'fetchData'. Either include it or remove the dependency array.","ArrayExpression",["69"],"jsx-a11y/anchor-is-valid","The href attribute is required for an anchor to be keyboard accessible. Provide a valid, navigable address as the href value. If you cannot provide an href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","JSXOpeningElement","'FormControl' is defined but never used.","'FormErrorMessage' is defined but never used.","'FormHelperText' is defined but never used.","'Input' is defined but never used.","React Hook useEffect has a missing dependency: 'fetchDetail'. Either include it or remove the dependency array.",["70"],"'MenuItemOption' is defined but never used.","'MenuOptionGroup' is defined but never used.","'MenuIcon' is defined but never used.","'MenuCommand' is defined but never used.","React Hook useEffect has an unnecessary dependency: 'auth'. Either exclude it or remove the dependency array. Outer scope values like 'auth' aren't valid dependencies because mutating them doesn't re-render the component.",["71"],{"desc":"72","fix":"73"},{"desc":"74","fix":"75"},{"desc":"76","fix":"77"},"Update the dependencies array to be: [fetchData]",{"range":"78","text":"79"},"Update the dependencies array to be: [fetchDetail]",{"range":"80","text":"81"},"Update the dependencies array to be: []",{"range":"82","text":"83"},[998,1000],"[fetchData]",[1249,1251],"[fetchDetail]",[1250,1256],"[]"]