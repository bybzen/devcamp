(this.webpackJsonpdevcamp=this.webpackJsonpdevcamp||[]).push([[0],{20:function(e,t,c){},46:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c(2),o=c.n(a),r=c(28),s=c.n(r),u=(c(20),c(5)),i=c(21),j=c(17),l=c(7),b=c(18),d=(c(35),{apiKey:"AIzaSyDIHoMTpMPyuIDGIp6yl_f08kLOeRsW86w",authDomain:"test-predev.firebaseapp.com",databaseURL:"https://test-predev.firebaseio.com",projectId:"test-predev",storageBucket:"test-predev.appspot.com",messagingSenderId:"749797199963",appId:"1:749797199963:web:aa171e596059a636722f7e"});c(47),c(37);b.a.apps.length||b.a.initializeApp(d);var O=b.a.auth(),p=b.a.storage(),f=b.a.database();var h=function(){return Object(n.jsx)("div",{children:Object(n.jsx)("header",{className:"Navbar",children:Object(n.jsx)("body",{className:"Head",children:"PAPOY"})})})},x=function(){var e=Object(u.f)(),t=Object(a.useState)({email:"",passowrd:""}),c=Object(l.a)(t,2),o=c[0],r=c[1],s=function(e){var t=e.target,c=t.name,n=t.value;r(Object(j.a)(Object(j.a)({},o),{},Object(i.a)({},c,n)))};return Object(a.useEffect)((function(){O.onAuthStateChanged((function(t){t&&e.replace("/account")}))})),Object(n.jsxs)("div",{children:[Object(n.jsx)(h,{}),Object(n.jsxs)("form",{onSubmit:function(t){t.preventDefault();var c=o.email,n=o.password;O.signInWithEmailAndPassword(c,n).then((function(t){e.replace("/account")})).catch((function(e){alert("Error in login",e)}))},children:[Object(n.jsx)("p",{children:" login  "}),Object(n.jsxs)("p",{children:[" Email ",Object(n.jsx)("input",{type:"email",name:"email",onChange:s}),"    "]}),Object(n.jsxs)("p",{children:[" Password ",Object(n.jsx)("input",{type:"password",name:"password",onChange:s}),"  "]}),Object(n.jsx)("p",{}),Object(n.jsx)("button",{type:"submit",children:"LOGIN"})]})]})},m=c(10);function v(){return Object(n.jsxs)("div",{children:[Object(n.jsx)(h,{}),Object(n.jsxs)("body",{className:"body",children:[Object(n.jsx)("button",{type:"button",className:"button1",children:Object(n.jsx)(m.b,{to:"/login",style:{textDecoration:"none",color:"white"},children:"LOGIN"})}),Object(n.jsx)("p",{}),Object(n.jsx)("button",{type:"button",className:"button1",children:"SUBMIT"})]})]})}var g=c(11),k=c.n(g),w=c(14),y=function(){var e=Object(a.useState)(null),t=Object(l.a)(e,2),c=t[0],o=t[1],r=Object(a.useState)(),s=Object(l.a)(r,2),i=s[0],j=s[1],b=Object(a.useState)(null),d=Object(l.a)(b,2),x=d[0],m=d[1],v=Object(u.f)();function g(){return y.apply(this,arguments)}function y(){return(y=Object(w.a)(k.a.mark((function e(){var t,n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=p.ref(O.currentUser.uid).child(x.name),e.next=3,t.put(x);case 3:return e.next=5,t.getDownloadURL();case 5:return n=e.sent,console.log(n),console.log(c),e.next=10,f.ref("/users/".concat(O.currentUser.uid,"/upload/").concat(c)).set({link:n,name:i});case 10:return e.next=12,f.ref("/file/".concat(c)).set({link:n,uid:O.currentUser.uid,name:i});case 12:alert("Upload Success");case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.jsxs)("div",{children:[Object(n.jsx)(h,{}),Object(n.jsx)("p",{children:"subject Code"}),Object(n.jsx)("input",{type:"text",onChange:function(e){o(e.target.value)}}),Object(n.jsx)("br",{}),Object(n.jsx)("p",{children:"subject name"}),Object(n.jsx)("input",{type:"text",onChange:function(e){j(e.target.value)}}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)("input",{type:"file",id:"file_choose",onChange:function(e){var t=e.target.files[0];null!==t&&m(t)}}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)("button",{id:"file_upload",onClick:g,children:"UPLOAD"}),Object(n.jsx)("p",{children:"                 "}),Object(n.jsx)("button",{onClick:function(){v.replace("/account")},children:"Back"})]})},S=function(){var e=Object(a.useState)({name:"",email:"",uid:"",qr_bank:""}),t=Object(l.a)(e,2),c=t[0],o=t[1],r=Object(u.f)();return Object(a.useEffect)((function(){O.onAuthStateChanged((function(e){e&&(console.log(e),f.ref("/users/"+O.currentUser.uid).once("value").then((function(e){o({name:e.val().name,qr_bank:e.val().qr_bank,email:e.val().email,uid:O.currentUser.uid}),localStorage.setItem("uid",O.currentUser.uid)})))}))}),[O]),Object(n.jsxs)("div",{children:[Object(n.jsx)(h,{}),Object(n.jsx)("button",{onClick:function(){O.signOut(),r.replace("/")},children:"LOGOUT"}),Object(n.jsxs)("div",{children:[Object(n.jsxs)("p",{children:["uid : ",c.uid]}),Object(n.jsxs)("p",{children:["name : ",c.name]}),Object(n.jsxs)("p",{children:["email : ",c.email]}),Object(n.jsxs)("p",{children:["qr_bank : ",c.qr_bank]})]}),Object(n.jsx)("button",{onClick:function(){r.replace("/account/upload")},children:"UPLOAD"}),Object(n.jsx)("button",{onClick:function(){r.replace("/account/storage")},children:"STORAGE"}),Object(n.jsx)("button",{onClick:function(){r.replace("/shop")},children:"SHOP"})]})};var C=function(e){e.authCode;var t=Object(a.useState)({subject_code:[],link:[],Subjectname:[]}),c=Object(l.a)(t,2),o=c[0],r=c[1],s=function(){var e=Object(w.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=localStorage.getItem("uid"),f.ref("/users/".concat(t,"/upload/")).on("value",(function(e){var t=e.val();console.log(t),t&&r({subject_code:Object.keys(t),link:t.link,subjectname:t.name,data:t})}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){s()}),f.ref("/users/".concat(localStorage.getItem("uid"),"/upload/"))),Object(n.jsxs)("div",{children:[Object(n.jsx)("p",{children:"Upload"}),o.subject_code.map((function(e,t){return Object(n.jsxs)("li",{children:["subject code : ".concat(e)," Subject name : ",Object(n.jsx)("p",{children:o.data[e].name}),"link :",Object(n.jsx)("a",{className:"download",onClick:function(){return window.location.href=o.data[e].link},children:"download"})]},t)}))]})};var I=function(){var e=Object(a.useState)({subject_code:[],link:[],list:{}}),t=Object(l.a)(e,2),c=t[0],o=t[1],r=function(){var e=Object(w.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f.ref("/users/".concat(localStorage.getItem("uid"),"/download/")).on("value",(function(e){var t=e.val();console.log(t),t&&o({subject_code:Object.keys(t),link:Object.values(t),list:t})}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){r()}),f.ref("/users/".concat(localStorage.getItem("uid"),"/download/"))),Object(n.jsxs)("div",{children:[Object(n.jsx)("p",{children:"Download"}),c.subject_code.map((function(e,t){return Object(n.jsxs)("li",{children:["subject code : ".concat(e)," link :",Object(n.jsx)("a",{className:"download",onClick:function(){return window.location.href=c.link[t]},children:"download"})]},t)}))]})},_=function(){var e=Object(u.f)();return Object(n.jsxs)("div",{children:[Object(n.jsx)(C,{}),Object(n.jsx)(I,{}),Object(n.jsx)("button",{onClick:function(){e.replace("/account")},children:"BACK"})]})},U=function(){var e=Object(a.useState)({subject_code:[],link:[],subjectname:[],data:{}}),t=Object(l.a)(e,2),c=t[0],o=t[1];Object(a.useEffect)((function(){r()}),f.ref("/users/"));var r=function(){return f.ref("/file").on("value",(function(e){var t=e.val();console.log(t),t&&o({subject_code:Object.keys(t),link:t.link,subjectname:t.name,data:t})}))};var s=Object(u.f)();return Object(n.jsxs)("div",{children:[Object(n.jsx)(h,{}),"hello",Object(n.jsx)("button",{onClick:function(){s.replace("/account")},children:"back"}),Object(n.jsx)("button",{onClick:function(){c.subject_code.map((function(e){console.log(e),console.log(c.data[e].name),console.log(c.data[e].link)}))},children:"show"}),c.subject_code.map((function(e){return console.log(e),Object(n.jsxs)("li",{children:["subject code : ".concat(e)," ","subject name : ".concat(c.data[e].name),Object(n.jsx)("a",{className:"download",onClick:function(){return t=e,void s.replace("/shop/".concat(t));var t},children:"detail"})]})}))]})},A=function(){var e=Object(u.g)().productId,t=Object(u.f)(),c=Object(a.useState)({name:"",subjectCode:"",uid:"",link:""}),o=Object(l.a)(c,2),r=o[0],s=o[1],i=function(){var t=Object(w.a)(k.a.mark((function t(){return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:f.ref("/file/".concat(e)).once("value",(function(e){var t=e.val();console.log(e),t&&(s({name:t.name,subjectCode:e.key,uid:t.uid,link:t.link}),console.log(r.uid),b(t.uid))}));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),b=function(e){f.ref("/users/".concat(e)).on("value",(function(e){var t=e.val();console.log(t),t&&s((function(e){return Object(j.a)(Object(j.a)({},e),{},{author:t.name})}))}))};return Object(a.useEffect)((function(){i()}),[]),Object(n.jsxs)("div",{children:[Object(n.jsx)(h,{}),Object(n.jsxs)("p",{children:["Subject code ",e," "]}),Object(n.jsxs)("p",{children:["Subject name ",r.name]}),Object(n.jsxs)("p",{children:["Author ",r.author]}),Object(n.jsx)("br",{}),Object(n.jsx)("button",{onClick:function(){t.replace("/shop")},children:"BACK"}),Object(n.jsx)("button",{onClick:function(){return function(e){t.replace("/shop/".concat(e,"/buy"))}(e)},children:"BUY"})]})},E=function(){var e=Object(u.g)().productId;return console.log("pro = "+e),Object(n.jsx)("div",{children:"Buy"})};var N=function(){var e=Object(u.f)();return Object(a.useEffect)((function(){O.onAuthStateChanged((function(t){t||e.replace("/")}))})),Object(n.jsx)("div",{children:Object(n.jsxs)(u.c,{children:[Object(n.jsx)(u.a,{exact:!0,path:"/",component:v}),Object(n.jsx)(u.a,{path:"/login",component:x}),Object(n.jsx)(u.a,{exact:!0,path:"/account",component:S}),Object(n.jsx)(u.a,{path:"/account/upload",component:y}),Object(n.jsx)(u.a,{path:"/account/storage",component:_}),Object(n.jsx)(u.a,{exact:!0,path:"/shop",component:U}),Object(n.jsx)(u.a,{exact:!0,path:"/shop/:productId",component:A}),Object(n.jsx)(u.a,{path:"/shop/:productId/buy",component:E})]})})};s.a.render(Object(n.jsx)(o.a.StrictMode,{children:Object(n.jsx)(m.a,{children:Object(n.jsx)(N,{})})}),document.getElementById("root"))}},[[46,1,2]]]);
//# sourceMappingURL=main.713e08a8.chunk.js.map